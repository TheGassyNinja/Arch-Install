#!/bin/bash

# Define the profiles
profiles=(
    "general:col.active_border= #ffff00 #ff0000 #ffff00 #ff0000 45deg" 
)

# File to store the current profile index
index_file="$HOME/.config/hypr/Scripts/.current_color_profile_index"

# Function to apply a profile using hyprctl
apply_profile() {
    local profile=$1
    hyprctl keyword $profile
    echo "Applied profile: $profile"
}

# Read the current profile index, default to 0 if the file doesn't exist
if [[ -f "$index_file" ]]; then
    current_index=$(cat "$index_file")
else
    current_index=0
fi

# Increment the profile index and wrap around if needed
next_index=$(( (current_index + 1) % ${#profiles[@]} ))

# Apply the next profile
apply_profile "${profiles[$next_index]}"

# Save the new profile index
echo $next_index > "$index_file"
